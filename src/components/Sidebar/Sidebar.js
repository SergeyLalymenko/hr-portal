import { Link, useLocation } from 'react-router-dom';
import classNames from 'classnames';
import './Sidebar.scss';

function Sidebar({
         toggleSidebar,
         isSidebarOpened,
         user,
         renderUserName,
         renderUserAvatar,
    }) {
    const location = useLocation();

    function isActiveRoute(route) {
        return location.pathname === route ? 'active' : '';
    }

    return (
        <div className={classNames('sidebar', { active: isSidebarOpened })}>
            <div className="sidebar__background" onClick={toggleSidebar}></div>

            <div className="sidebar__toggler">
                <Link to={'/dashboard'} className={classNames('sidebar__route', isActiveRoute('/dashboard'))}>
                    <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.1" x="2" y="2" width="34" height="34" rx="4" fill="white"/>
                        <path
                            d="M18.7318 15.2125L12.25 20.5509V26.3127C12.25 26.4619 12.3093 26.605 12.4148 26.7104C12.5203 26.8159 12.6634 26.8752 12.8125 26.8752L16.7521 26.865C16.9008 26.8643 17.0432 26.8047 17.1481 26.6993C17.253 26.5938 17.3118 26.4512 17.3118 26.3025V22.9377C17.3118 22.7885 17.3711 22.6454 17.4766 22.5399C17.5821 22.4345 17.7252 22.3752 17.8743 22.3752H20.1243C20.2735 22.3752 20.4166 22.4345 20.5221 22.5399C20.6276 22.6454 20.6868 22.7885 20.6868 22.9377V26.3C20.6866 26.3741 20.701 26.4474 20.7291 26.5158C20.7573 26.5843 20.7987 26.6465 20.851 26.6989C20.9032 26.7513 20.9653 26.7929 21.0337 26.8213C21.102 26.8497 21.1753 26.8643 21.2493 26.8643L25.1875 26.8752C25.3367 26.8752 25.4798 26.8159 25.5853 26.7104C25.6908 26.605 25.75 26.4619 25.75 26.3127V20.5471L19.2697 15.2125C19.1935 15.1511 19.0986 15.1176 19.0007 15.1176C18.9029 15.1176 18.808 15.1511 18.7318 15.2125ZM28.9704 18.8409L26.0313 16.4183V11.5488C26.0313 11.4369 25.9868 11.3296 25.9077 11.2505C25.8286 11.1714 25.7213 11.127 25.6094 11.127H23.6407C23.5288 11.127 23.4215 11.1714 23.3424 11.2505C23.2632 11.3296 23.2188 11.4369 23.2188 11.5488V14.1015L20.0712 11.5119C19.7692 11.2634 19.3902 11.1275 18.999 11.1275C18.6078 11.1275 18.2288 11.2634 17.9267 11.5119L9.02762 18.8409C8.9849 18.8762 8.94955 18.9196 8.92361 18.9686C8.89766 19.0176 8.88161 19.0712 8.87639 19.1264C8.87117 19.1815 8.87687 19.2372 8.89316 19.2902C8.90946 19.3431 8.93603 19.3924 8.97137 19.4351L9.86785 20.5249C9.90309 20.5678 9.94643 20.6032 9.9954 20.6293C10.0444 20.6554 10.098 20.6716 10.1532 20.6769C10.2084 20.6822 10.2642 20.6766 10.3172 20.6603C10.3702 20.6441 10.4196 20.6176 10.4623 20.5822L18.7318 13.7711C18.808 13.7096 18.9029 13.6762 19.0007 13.6762C19.0986 13.6762 19.1935 13.7096 19.2697 13.7711L27.5395 20.5822C27.5822 20.6176 27.6314 20.6441 27.6844 20.6604C27.7374 20.6767 27.793 20.6824 27.8482 20.6772C27.9034 20.672 27.957 20.6559 28.006 20.63C28.0549 20.604 28.0983 20.5687 28.1336 20.526L29.0301 19.4361C29.0654 19.3932 29.0919 19.3437 29.108 19.2905C29.1241 19.2373 29.1295 19.1814 29.124 19.1261C29.1184 19.0708 29.102 19.0171 29.0756 18.9682C29.0493 18.9193 29.0135 18.876 28.9704 18.8409Z"
                            fill="#E6F3FE"/>
                    </svg>
                    <h6>Dashboard</h6>
                </Link>

                <Link to={'/company'} className={classNames('sidebar__route', isActiveRoute('/company'))}>
                    <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.1" x="2" y="2" width="34" height="34" rx="4" fill="white"/>
                        <path
                            d="M10.8143 17.6282C12.1066 17.6282 13.1572 16.5776 13.1572 15.2853C13.1572 13.9931 12.1066 12.9425 10.8143 12.9425C9.5221 12.9425 8.47148 13.9931 8.47148 15.2853C8.47148 16.5776 9.5221 17.6282 10.8143 17.6282ZM27.2143 17.6282C28.5066 17.6282 29.5572 16.5776 29.5572 15.2853C29.5572 13.9931 28.5066 12.9425 27.2143 12.9425C25.9221 12.9425 24.8715 13.9931 24.8715 15.2853C24.8715 16.5776 25.9221 17.6282 27.2143 17.6282ZM28.3858 18.7996H26.0429C25.3986 18.7996 24.8166 19.0595 24.3919 19.4805C25.8672 20.2895 26.9142 21.7501 27.1411 23.4853H29.5572C30.2051 23.4853 30.7286 22.9618 30.7286 22.3139V21.1425C30.7286 19.8502 29.678 18.7996 28.3858 18.7996ZM19.0143 18.7996C21.2803 18.7996 23.1143 16.9656 23.1143 14.6996C23.1143 12.4336 21.2803 10.5996 19.0143 10.5996C16.7484 10.5996 14.9143 12.4336 14.9143 14.6996C14.9143 16.9656 16.7484 18.7996 19.0143 18.7996ZM21.8258 19.971H21.5219C20.7605 20.3371 19.9149 20.5568 19.0143 20.5568C18.1138 20.5568 17.2718 20.3371 16.5067 19.971H16.2029C13.8747 19.971 11.9858 21.86 11.9858 24.1882V25.2425C11.9858 26.2126 12.7728 26.9996 13.7429 26.9996H24.2858C25.2559 26.9996 26.0429 26.2126 26.0429 25.2425V24.1882C26.0429 21.86 24.154 19.971 21.8258 19.971ZM13.6367 19.4805C13.2121 19.0595 12.63 18.7996 11.9858 18.7996H9.64291C8.35067 18.7996 7.30005 19.8502 7.30005 21.1425V22.3139C7.30005 22.9618 7.82353 23.4853 8.47148 23.4853H10.8839C11.1145 21.7501 12.1615 20.2895 13.6367 19.4805Z"
                            fill="#E6F3FE"/>
                    </svg>
                    <h6>Company</h6>
                </Link>

                <Link to={'/settings'} className={classNames('sidebar__route', isActiveRoute('/settings'))}>
                    <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.1" x="2" y="2" width="34" height="34" rx="4" fill="white"/>
                        <path
                            d="M9.95923 16.6347L11.6233 17.5957C11.4553 18.5019 11.4553 19.4316 11.6233 20.3379L9.95923 21.2988C9.76783 21.4082 9.68189 21.6347 9.74439 21.8457C10.178 23.2363 10.9163 24.4941 11.8811 25.541C12.0295 25.7011 12.2717 25.7402 12.4592 25.6308L14.1233 24.6699C14.8225 25.2714 15.6272 25.7363 16.4983 26.041V27.9589C16.4983 28.1777 16.6506 28.3691 16.8655 28.416C18.2991 28.7363 19.7678 28.7207 21.1311 28.416C21.346 28.3691 21.4983 28.1777 21.4983 27.9589V26.0371C22.3655 25.7285 23.1702 25.2636 23.8733 24.666L25.5335 25.6269C25.7249 25.7363 25.9631 25.7011 26.1116 25.5371C27.0764 24.4941 27.8147 23.2363 28.2483 21.8418C28.3147 21.6308 28.2249 21.4043 28.0335 21.2949L26.3694 20.3339C26.5374 19.4277 26.5374 18.498 26.3694 17.5918L28.0335 16.6308C28.2249 16.5214 28.3108 16.2949 28.2483 16.0839C27.8147 14.6933 27.0764 13.4355 26.1116 12.3886C25.9631 12.2285 25.721 12.1894 25.5335 12.2988L23.8694 13.2597C23.1702 12.6582 22.3655 12.1933 21.4944 11.8886V9.96676C21.4944 9.74801 21.342 9.55661 21.1272 9.50973C19.6936 9.18942 18.2249 9.20504 16.8616 9.50973C16.6467 9.55661 16.4944 9.74801 16.4944 9.96676V11.8886C15.6272 12.1972 14.8225 12.6621 14.1194 13.2597L12.4553 12.2988C12.2639 12.1894 12.0256 12.2246 11.8772 12.3886C10.9124 13.4316 10.1741 14.6894 9.74048 16.0839C9.68189 16.2988 9.76783 16.5254 9.95923 16.6347ZM18.9983 15.8418C20.721 15.8418 22.1233 17.2441 22.1233 18.9668C22.1233 20.6894 20.721 22.0918 18.9983 22.0918C17.2756 22.0918 15.8733 20.6894 15.8733 18.9668C15.8733 17.2441 17.2756 15.8418 18.9983 15.8418Z"
                            fill="#E6F3FE"/>
                    </svg>
                    <h6>Settings</h6>
                </Link>

                <div className="sidebar__user">
                    <div className="sidebar__avatar">
                        {user && renderUserAvatar()}
                    </div>
                    <h6 className="sidebar__greetings">
                        Good Morning, <span>{renderUserName()}</span>!
                    </h6>
                </div>
            </div>
        </div>
    );
}

export default Sidebar;